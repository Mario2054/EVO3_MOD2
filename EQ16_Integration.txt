//=============================================================================
// EQ16 INTEGRATION GUIDE - DODAJ TE FRAGMENTY DO main.cpp
//=============================================================================

/*
âš ï¸ INSTRUKCJE INTEGRACJI EQ16:

1. DODAJ NA POCZÄ„TKU (po include bibliotek):
   #include "EQ16_GraphicEQ.h"

2. DODAJ W setup():
   EQ16_init();
   EQ16_enable(true); // lub false jeÅ›li chcesz startowaÄ‡ wyÅ‚Ä…czony

3. DODAJ W OBSÅUDZE ENKODERA (funkcja rotary_loop lub podobna):
   
   if (EQ16_isMenuActive()) {
       // Menu EQ16 aktywne - obsÅ‚uguj nawigacjÄ™
       if (rotaryEncoder.wasRotated()) {
           int direction = rotaryEncoder.getDirection();
           
           if (encoder_state == ENC_MENU_ITEM) {
               // Zmiana pasma
               if (direction == 1) {
                   EQ16_selectNextBand();
               } else {
                   EQ16_selectPrevBand();
               }
           }
           else if (encoder_state == ENC_MENU_VALUE) {
               // Zmiana gain
               if (direction == 1) {
                   EQ16_increaseBandGain();
               } else {
                   EQ16_decreaseBandGain();
               }
           }
       }
       
       if (rotaryEncoder.wasPressed()) {
           // PrzeÅ‚Ä…czanie trybu wybÃ³r pasma <-> zmiana gain
           if (encoder_state == ENC_MENU_ITEM) {
               encoder_state = ENC_MENU_VALUE;
           } else {
               encoder_state = ENC_MENU_ITEM;
           }
       }
       
       // WyÅ›wietl menu EQ16 zamiast normalnego
       EQ16_displayMenu();
       return; // Nie rÃ³b nic wiÄ™cej gdy menu EQ16 aktywne
   }

4. DODAJ PRZYCISK AKTYWACJI MENU EQ (np. dÅ‚ugie przytrzymanie):
   
   // PrzykÅ‚ad - w obsÅ‚udze dÅ‚ugiego przytrzymania enkodera:
   if (longPressDetected) {
       if (!EQ16_isMenuActive()) {
           EQ16_setMenuActive(true);
           encoder_state = ENC_MENU_ITEM;
       } else {
           EQ16_setMenuActive(false);
           encoder_state = ENC_MENU_VALUE; // lub twÃ³j normalny stan
       }
   }

5. DODAJ W PÄ˜TLI GÅÃ“WNEJ (loop()):
   EQ16_autoSave(); // Automatyczny zapis co 5 sekund

6. INTEGRACJA Z AUDIO (jeÅ›li masz przetwarzanie audio):
   
   // W funkcji przetwarzania audio:
   if (EQ16_isEnabled()) {
       EQ16_processStereo(leftSamples, rightSamples, sampleCount);
   }

7. OPCJONALNE CALLBACKI:
   
   // MoÅ¼esz dodaÄ‡ te funkcje jeÅ›li chcesz dodatkowe akcje:
   void EQ16_onMenuEnter() {
       // Wykonaj gdy wchodzisz do menu EQ
       Serial.println("WeszÅ‚o do menu EQ16");
   }
   
   void EQ16_onMenuExit() {
       // Wykonaj gdy wychodzisz z menu EQ  
       Serial.println("WyszÅ‚o z menu EQ16");
   }
   
   void EQ16_onSettingsChanged() {
       // Wykonaj gdy zmieniajÄ… siÄ™ ustawienia
       Serial.println("Ustawienia EQ16 siÄ™ zmieniÅ‚y");
   }

8. STRUKTURA ENCODER STATES (dodaj do enum):
   
   enum encoder_state_t {
       // ... twoje istniejÄ…ce stany
       ENC_EQ16_BAND,    // WybÃ³r pasma EQ16
       ENC_EQ16_GAIN     // Zmiana gain EQ16
   };

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ PRZYKÅAD UÅ»YCIA:

1. Kompiluj projekt - powinien siÄ™ skompilowaÄ‡ bez bÅ‚Ä™dÃ³w
2. Po starcie radia EQ16 bÄ™dzie wyÅ‚Ä…czony
3. DÅ‚ugie przytrzymanie enkodera â†’ wejÅ›cie do menu EQ16
4. Obracanie enkodera â†’ wybÃ³r pasma (1-16)
5. KrÃ³tkie naciÅ›niÄ™cie â†’ przeÅ‚Ä…czenie na tryb zmiany gain
6. Obracanie enkodera â†’ zmiana gain (-12dB do +12dB)
7. DÅ‚ugie przytrzymanie â†’ wyjÅ›cie z menu EQ16
8. Ustawienia sÄ… automatycznie zapisywane na SD

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ MOÅ»LIWE ROZSZERZENIA:

1. Dodaj preset menu (Rock, Pop, Jazz, Classical itp.)
2. Dodaj wizualizacjÄ™ analizatora z nakÅ‚adkÄ… EQ
3. Dodaj moÅ¼liwoÅ›Ä‡ reset wybranego pasma
4. Dodaj kopiÄ™/paste ustawieÅ„ miÄ™dzy pasmami
5. Dodaj curve smoothing miÄ™dzy pasmami

*/